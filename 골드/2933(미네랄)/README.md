# <span style="color:orange; font-size:17pt; font-weight:bold">BOJ 2933 미네랄 자바(java)  풀이</span>
- 랭크 : 골드3
- [백준 2933 미네랄](https://www.acmicpc.net/problem/2933)
<br><br>

## [티스토리 주소](https://hoho325.tistory.com/)
<br><br>

# <span style="color: red; font-size:15pt">문제 정리</span>
1. 서로 막대기를 던져 동굴이 누구의 소유인지 파악하려고 한다.
2. 동굴의 크기는 RxC, 각 칸은 비어있거나 미네랄을 포함하고 있다. 네 방향 중 하나로 인접한 미네랄이 포함된 두 칸은 같은 클러스터이다.
3. 막대가 날아가다가 미네랄을 만나면, 그 칸에 있는 미네랄은 모두 파괴되고 막대는 그 자리에서 이동을 멈춘다.
4. 미네랄이 파괴된 이 후, 남은 클러스터가 분리될 수 있으며, 새롭게 생성된 클러스터가 떠 있는 경우 바닥으로 떨어진다.
5. 클러스터는다른 클러스터나 땅을 만나기 전까지 계속 떨어진다.
6. 다른 클러스터 위에 떨어지게 되면 합쳐진다. 떨어지는 동안 미네랄의 모양은 바뀌지 않는다.
7. 던지는 높이는 1과 R 사이, 1은 행렬의 가장 바닥, R은 가장 위
8. 첫번째는 왼쪽에서 오른쪽, 두번째는 오른쪽에서 왼쪽, 이렇게 번갈아가며 던진다
9. 모든 막대를 던지고난 후 미네랄의 모양을 구하여라
<br><br>

# <span style="color: red; font-size:15pt">문제 접근</span>
이 문제는 이해하는데 시간이 조금 걸렸습니다. ㅠㅠ   
우선 바닥과 떨어져 있는 클러스터는 중력에 의해 바닥이나 다른 미네랄 위로 떨어지게 됩니다.  
그리고 6번 조건을 이해해야합니다!! 떨어질때 미네랄의 모양이 바뀌지 않기 때문에 덩어리채 그대로 떨어져야 합니다.  
즉 미네랄 마다 떨어지는 높이가 다르면 안되고 같아야 합니다.  
1. 막대기를 던져 처음 만나는 미네랄 제거 (왼쪽, 오른쪽 번갈아서 함)
2. 제거 후, 바닥과 떨어져 있는 클러스터를 bfs를 통해 탐색 -> 
3. 떨어져 있는 미네랄 내리기
4. 이를 계속해서 반복한다.
<br><br>

# <span style="color: red; font-size:15pt">문제 풀이</span>
1. 동굴의 상태를 입력받는다. 이때 주어지는 입력 값의 인덱스가 1부터 시작하기 때문에 이를 맞추기 위해서 행, 열을 한 칸씩 크게 잡는다.
2. 던지는 막대 높이를 입력받는다.
3. 시뮬레이션한다.
4. 막대를 던진다. 바닥과 붙어있는지 체크할 visited 배열을 초기화 한다.
5. 방문하지 않았고, 미네랄이 있는 경우(맨 바닥에서) bfs 탐색을 한다. 바닥과 닿아있는 미네랄은 true, 그렇지 않은 미네랄은 false가 된다.
6. visited가 false인 미네랄이 있는지 확인합니다.(공중에 떠있는 미네랄이 있는지 확인) 확인해서 있다면 그 미네랄들을 arraylist에 담습니다.
7. 공중에 뜬 미네랄이 없는 경우 다시 막대를 던지고 그렇지 않다면 미네랄을 중력에 의해 내립니다.
8. 공중에 뜬 미네랄이 있는 경우, 내려야 하는 최소 높이를 계산합니다. 미네랄 위치에서 밑으로 탐색하며 '.'이 있는 경우 내려갈 높이 1 증가합니다.
9. 'x'를 만난 경우 그 미네랄이 같은 클러스터의 미네랄이 아닌경우 더 이상 내려갈 수 없으므로 for문 탈출, 같은 클러스터의 미네랄인 경우 그 미네랄은 따로 내려갈 수 없습니다.(한 덩어리이기 때문에) 그래서 이 경우는 height를 MAX로 합니다.
10. 공중에 뜬 모든 미네랄들의 내려갈 수 있는 높이를 구해서 제일 작은 높이를 구합니다. 왜냐하면 모두 최소 높이만큼은 내려갈 수 있기 때문입니다. 예를들어 (5,5)의 미네랄은 3만큼 내려갈 수 있고, (4,4)의 미네랄은 4만큼 내려갈 수 있을때 4만큼 내리면 (5,5)의 미네랄은 최대가 3인데 더 내려갈 수 없기 때문에 작은 기준에 맞춥니다.
11. 작은 높이 min 만큼 공중에 뜬 미네랄들을 모두 내립니다.
12. 이를 반복합니다.
<br><br>

# <span style="color: red; font-size:15pt">예제 실행과정</span>
```
........
........
.....xx.
...xxx..
..xxx...
..x.xxx.
..x...x.
.xxx..x.

........
........
.....x..
...xxx..
..xxx...
..x.xxx.
..x...x.
.xxx..x.

........
........
.....x..
...xxx..
...xx...
..x.xxx.
..x...x.
.xxx..x.

........
........
.....x..
...xxx..
...xx...
..x.xx..
..x...x.
.xxx..x.

........
........
........
........
.....x..
..xxxx..
..xxx.x.
.xxxxxx.

........
........
........
........
.....x..
..xxxx..
..xxx.x.
..xxxxx.
```